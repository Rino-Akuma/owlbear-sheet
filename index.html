<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<style>
body{
  background:#1e1f22;
  color:white;
  font-family:Arial;
  margin:0; padding:8px;
}

/* Кнопки вкладок */
.tabs{
  display:flex;
  gap:6px;
  margin-bottom:8px;
  flex-wrap: wrap;
}

.tabs button{
  background:#2b2d31;
  color:white;
  border:1px solid #555;
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
}

.tabs button.active{
  background:#3b3f45;
  border-color:#7dd3fc;
}

/* Контейнери вкладок */
.tab-content{
  display:none;
  border:1px solid #666;
  border-radius:8px;
  padding:6px;
  background:#24262a;
  min-height:500px;
  box-sizing:border-box;
  width:100%;
}
</style>
</head>
<body>

<h3>Лист персонажа</h3>

<div class="tabs">
  <button data-tab="stats">Характеристики персонажа</button>
  <button data-tab="weapons">Оружие персонажа</button>
  <button data-tab="magic">Магия персонажа</button>
  <button data-tab="equipment">Снаряжение персонажа</button>
  <button data-tab="description">Описание персонажа</button>
  <button data-tab="notes">Заметки персонажа</button>
</div>

<div id="tab_stats" class="tab-content"></div>
<div id="tab_weapons" class="tab-content"></div>
<div id="tab_magic" class="tab-content"></div>
<div id="tab_equipment" class="tab-content"></div>
<div id="tab_description" class="tab-content"></div>
<div id="tab_notes" class="tab-content"></div>

<script>
const tabs = [
  "stats",
  "weapons",
  "magic",
  "equipment",
  "description",
  "notes"
];

const buttons = document.querySelectorAll(".tabs button");
const containers = document.querySelectorAll(".tab-content");

// Функція завантаження всіх вкладок
async function loadAllTabs(){
  for(const tab of tabs){
    const container = document.getElementById("tab_"+tab);
    try{
      const html = await fetch(tab + ".html").then(r=>r.text());
      container.innerHTML = html;
      // Підключаємо JS якщо є
      const script = document.createElement("script");
      script.src = tab + ".js";
      document.body.appendChild(script);
    }catch(e){
      console.error("Не вдалося завантажити вкладку "+tab,e);
    }
  }
}

// Функція показу вкладки
function showTab(tab){
  buttons.forEach(b=>b.classList.remove("active"));
  document.querySelector(`[data-tab="${tab}"]`).classList.add("active");
  containers.forEach(c=>c.style.display="none");
  document.getElementById("tab_"+tab).style.display="block";
}

// Обробник кліку
buttons.forEach(btn=>{
  btn.addEventListener("click", ()=>{
    const tab = btn.dataset.tab;
    showTab(tab);
    localStorage.setItem("lastTab", tab); // зберігаємо останню відкриту вкладку
  });
});

// Завантажуємо всі вкладки і показуємо останню відкриту
loadAllTabs().then(()=>{
  const lastTab = localStorage.getItem("lastTab") || "stats";
  showTab(lastTab);
});
</script>

</body>
</html>
